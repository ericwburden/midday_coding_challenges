source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
body <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body")
?html_text
body <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text() %>%
str_replace_all("[^a-zA-Z0-9'-\s]+", " ")
body <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text() %>%
str_replace_all("[^a-zA-Z0-9'-\\s]+", " ")
body <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text() %>%
str_replace_all("[^a-zA-Z0-9'-\\s]", " ")
body <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s]", " ")
fixed_line_breaks <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s]", " ")
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
fixed_line_breaks
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
fixed_line_breaks
fixed_line_breaks <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ")
fixed_line_breaks
fixed_line_breaks <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ")
fixed_line_breaks
fixed_line_breaks <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ")
View(fixed_line_breaks)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ")[[1]]
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ")
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
.[[1]]
words
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
.[[1]] %>%
.[. != ""]
words
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
as.data.frame()
View(words)
?as.data.frame
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
as.data.frame("word")
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
as.data.frame(row.names = "word")
library(tibble)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
tibble()
View(words)
View(words)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
.[[1]] %>%
tibble()
View(words)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
.[[1]] %>%
as.data.frame()
View(words)
View(words)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
{
word <- .[[1]]
tibble(word)
}
View(words)
library(dplyr)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
{
word <- .[[1]]
tibble(word)
} %>%
count(word) %>%
mutate(length = length(word)) %>%
filter(length == 0)
View(words)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
{
word <- .[[1]]
tibble(word)
} %>%
count(word) %>%
mutate(length = length(word)) %>%
filter(length > 0)
View(words)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
{
word <- .[[1]]
tibble(word)
} %>%
count(word) %>%
mutate(length = nchar(word)) %>%
filter(length > 0)
View(words)
?lower
?tolower
word <- tolower(.[[1]])
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
{
word <- tolower(.[[1]])
tibble(word)
} %>%
count(word) %>%
mutate(length = nchar(word)) %>%
filter(length > 0)
View(words)
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ")
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
.[[1]]
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
tolower(.[[1]])
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ") %>%
tolower()
?str_split
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ", simplify = T) %>%
as.character() %>%
tolower()
words <- read_html("http://paulgraham.com/simply.html") %>%
html_nodes("body") %>%
html_text_collapse() %>%
str_replace_all("[^a-zA-Z0-9'\\-\\s\\n]", " ") %>%
str_replace_all("\n", " ") %>%
str_split(" ", simplify = T) %>%
as.character() %>%
tolower()
table <- tibble(
word = words,
length = nchar(words)
)
View(table)
table <- tibble(word = words, length = nchar(words)) %>%
filter(length > 0) %>%
count(word, length)
View(table)
library(ggplot2)
ggplot(table, aes(fill = length)) +
geom_histogram(aes(x = n))
ggplot(table, aes(fill = length)) +
geom_histogram(aes(x = n, fill = length))
ggplot(table, aes(fill = length)) +
geom_histogram(aes(x = n, color = length))
ggplot(table, aes(length, n)) +
geom_line()
ggplot(table, aes(length, n)) +
geom_point()
table <- tibble(word = words, length = nchar(words)) %>%
filter(length > 0) %>%
count(word, length) %>%
group_by(length) %>%
mutate(label = ifelse(n == max(n), word, NA))
ggplot(table, aes(length, n)) +
geom_point() +
geom_label(aes(label = label))
ggplot(table, aes(length, n)) +
geom_point() +
geom_label(aes(label = label)) +
theme_minimal()
ggplot(table, aes(length, n)) +
geom_point() +
geom_label(aes(label = label)) +
theme_minimal() +
labs(
title = "Word Counts in 'Write Simply'",
subtitle = "http://paulgraham.com/simply.html",
x = "Word Length",
y = "Word Count"
)
ggplot(table, aes(length, n)) +
geom_point() +
geom_label(aes(label = label)) +
theme_minimal() +
labs(
title = "Word Counts in 'Write Simply'",
subtitle = "http://paulgraham.com/simply.html",
x = "Word Length",
y = "Word Count",
caption = "The word of each length that appeared the most times is labeled."
)
ggplot(table, aes(length, n)) +
geom_point(aes(size = n)) +
geom_label(aes(label = label)) +
theme_minimal() +
labs(
title = "Word Counts in 'Write Simply'",
subtitle = "http://paulgraham.com/simply.html",
x = "Word Length",
y = "Word Count",
caption = "The word of each length that appeared the most times is labeled."
)
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
?stri_trim_both
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
source('~/projects/midday_coding_challenges/20210312_count_web_words/count_web_words_r/count_web_words.R', echo=TRUE)
